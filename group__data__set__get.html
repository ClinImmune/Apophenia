<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html> <head>
     <title>Apophenia: a library for scientific computing</title>
<!-- Google is watching. -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-134313-2";
urchinTracker();
</script>
     <link rel="stylesheet" href="typical.css" type="text/css" >
     <script  type="text/javascript" language="JavaScript" src="tree.js"></script>
</head><body>
     <center><table cellpadding=10pt>
     <tr> <td><img width=140px src=flake.gif alt="Patterns in static"></td> 
    <td><table>
     	<tr> <td><center><h2><a href="http://apophenia.info">Apophenia</a></h2></center></td></tr>
<tr><td><div class="qindex"><a class="qindex" href="index.html">&nbsp;Intro</a> | <a class="qindex" href="outline.html">Outline</a> | <a class="qindex" href="globals.html">Index</a> <!--| <a class="qindex" href="files.html">File&nbsp;List&nbsp;</a> -->  </div></td></tr></table>
	</td></tr></table></center>
<!-- Generated by Doxygen 1.8.1.1 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Set/get/point to the data element at the given point</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga00f92dca5b99168cf3e80903ea0397a0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga00f92dca5b99168cf3e80903ea0397a0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>Set_gsl_handler</b>&#160;&#160;&#160;gsl_error_handler_t *prior_handler = gsl_set_error_handler(apop_gsl_error_for_set); error_for_set=0;</td></tr>
<tr class="memitem:gacfbcbb797586564ad3a93dae058f43e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gacfbcbb797586564ad3a93dae058f43e1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>Unset_gsl_handler</b>&#160;&#160;&#160;gsl_set_error_handler(prior_handler);</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga051d2beac2521cc56495b7bf7611f663"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga051d2beac2521cc56495b7bf7611f663"></a>
double *&#160;</td><td class="memItemRight" valign="bottom"><b>apop_data_ptr_ti</b> (<a class="el" href="structapop__data.html">apop_data</a> *in, const char *row, const int col)</td></tr>
<tr class="memitem:ga4a10b16c27ce54afaaca3d4997a735d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4a10b16c27ce54afaaca3d4997a735d8"></a>
double *&#160;</td><td class="memItemRight" valign="bottom"><b>apop_data_ptr_it</b> (<a class="el" href="structapop__data.html">apop_data</a> *in, const size_t row, const char *col)</td></tr>
<tr class="memitem:gaf5fe67707db33f827b96e6e1b199c499"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf5fe67707db33f827b96e6e1b199c499"></a>
double *&#160;</td><td class="memItemRight" valign="bottom"><b>apop_data_ptr_tt</b> (<a class="el" href="structapop__data.html">apop_data</a> *in, const char *row, const char *col)</td></tr>
<tr class="memitem:ga036a0ed6241af89643566086d5cb5373"><td class="memItemLeft" align="right" valign="top">double *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__data__set__get.html#ga036a0ed6241af89643566086d5cb5373">apop_data_ptr</a> (<a class="el" href="structapop__data.html">apop_data</a> *data, const int row, const int col, const char *rowname, const char *colname, const char *page)</td></tr>
<tr class="memitem:gac528c87c21249dbaa703be4157bd9bf9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac528c87c21249dbaa703be4157bd9bf9"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>apop_data_get_ti</b> (const <a class="el" href="structapop__data.html">apop_data</a> *in, const char *row, const int col)</td></tr>
<tr class="memitem:ga20c84f4b751078b4dc1c7bed6d374d62"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga20c84f4b751078b4dc1c7bed6d374d62"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>apop_data_get_it</b> (const <a class="el" href="structapop__data.html">apop_data</a> *in, const size_t row, const char *col)</td></tr>
<tr class="memitem:gaca121e66241c91c55678af047de89beb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaca121e66241c91c55678af047de89beb"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>apop_data_get_tt</b> (const <a class="el" href="structapop__data.html">apop_data</a> *in, const char *row, const char *col)</td></tr>
<tr class="memitem:gae3c2f0d4bd96555e8eeb32a44511d0ac"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__data__set__get.html#gae3c2f0d4bd96555e8eeb32a44511d0ac">apop_data_get</a> (const <a class="el" href="structapop__data.html">apop_data</a> *data, const size_t row, const int col, const char *rowname, const char *colname, const char *page)</td></tr>
<tr class="memitem:ga39d2e5893f1631a7a1ef2d06f3925fe6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga39d2e5893f1631a7a1ef2d06f3925fe6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>apop_gsl_error_for_set</b> (const char *reason, const char *file, int line, int gsl_errno)</td></tr>
<tr class="memitem:gafd4a9da640d1f17bfb9eb3d655b2a8c8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafd4a9da640d1f17bfb9eb3d655b2a8c8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>apop_data_set_ti</b> (<a class="el" href="structapop__data.html">apop_data</a> *in, const char *row, const int col, const double data)</td></tr>
<tr class="memitem:gadf16587d27237793c773ca584af1f4bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gadf16587d27237793c773ca584af1f4bd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>apop_data_set_it</b> (<a class="el" href="structapop__data.html">apop_data</a> *in, const size_t row, const char *col, const double data)</td></tr>
<tr class="memitem:gafe3d8a26202688be83af934756527175"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafe3d8a26202688be83af934756527175"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>apop_data_set_tt</b> (<a class="el" href="structapop__data.html">apop_data</a> *in, const char *row, const char *col, const double data)</td></tr>
<tr class="memitem:ga1e7ba48032cb438271d57818b85613f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__data__set__get.html#ga1e7ba48032cb438271d57818b85613f2">apop_data_set</a> (<a class="el" href="structapop__data.html">apop_data</a> *data, const size_t row, const int col, const double val, const char *colname, const char *rowname, const char *page)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>First, some examples:</p>
<pre class="fragment">apop_data *d = apop_data_alloc(10, 10, 10);
apop_name_add(d-&gt;names, "Zeroth row", 'r');
apop_name_add(d-&gt;names, "Zeroth col", 'c');

apop_data_set(d, 8, 0, 27);
assert(apop_data_get(d, 8, .colname="Zeroth") == 27);
double *x = apop_data_ptr(d, .col=7, .rowname="Zeroth");
*x = 270;
assert(apop_data_get(d, 0, 7) == 270);
</pre><p>Q: How does <code> apop_data_set(in, row, col, data)</code> differ from <code>gsl_matrix_set(in-&gt;matrix, row, col, data)</code>?<br/>
 A: It's seven characters shorter.</p>
<p>OK, there are a few other differences: the <a class="el" href="gentle.html#apop_data">apop_data</a> set has names, so we can get/set elements using those names, and it has both matrix and vector elements.</p>
<ul>
<li>The versions that take a column/row name use <a class="el" href="types_8h.html#adb1398925a93b7c2c502af8fb2abc49e">apop_name_find</a> for the search; see notes there on the name matching rules. </li>
<li>For those that take a column number, column -1 is the vector element. </li>
<li>For those that take a column name, I will search the vector last&mdash;if I don't find the name among the matrix columns, but the name matches the vector name, I return -1. </li>
<li>If you give me both a .row and a .rowname, I go with the name; similarly for .col and .colname. </li>
<li>You can give me the name of a page, e.g. <pre class="fragment">double AIC = apop_data_get(data, .rowname="AIC", .col=-1, .page="Info");
</pre> Each search for a page in the <a class="el" href="gentle.html#apop_data">apop_data</a> set involves a regular expression search across the names of the pages, which is expensive. If you're doing one lookup, this is not an issue; for hundreds or thousands, you may be better off spending a line of code to get the page once: <pre class="fragment">apop_data *d = apop_data_get_page(data, page="Indices");
for (int i=0; i&lt; 1e7; i++)
    apop_data_set(d, i, 0, i);
</pre></li>
</ul>
<p>The <code>_ptr</code> functions return a pointer to the given cell. Those functions follow the lead of <code>gsl_vector_ptr</code> and <code>gsl_matrix_ptr</code>, and like those functions, return a pointer to the appropriate <code>double</code>.</p>
<p>These functions use the <a class="el" href="designated.html">Designated initializers</a> syntax for inputs. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gae3c2f0d4bd96555e8eeb32a44511d0ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double apop_data_get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structapop__data.html">apop_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>rowname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>colname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the data element at the given point.</p>
<p>In case of error (probably that you asked for a data point out of bounds), returns <code>GSL_NAN</code>. See <a class="el" href="group__data__set__get.html">the set/get page</a> for details. </p>

</div>
</div>
<a class="anchor" id="ga036a0ed6241af89643566086d5cb5373"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double* apop_data_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapop__data.html">apop_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>rowname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>colname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a pointer to an element of an <a class="el" href="gentle.html#apop_data">apop_data</a> set.</p>
<ul>
<li>If a <code>NULL</code> vector or matrix (as the case may be), stop (unless <code>apop_opts.stop_on_warning='n'</code>, then return <code>NULL</code>). </li>
<li>If the row/column you requested is outside the bounds of the matrix (or the name isn't found), always return <code>NULL</code>. </li>
<li>See <a class="el" href="group__data__set__get.html">the set/get page</a> for details. </li>
</ul>

</div>
</div>
<a class="anchor" id="ga1e7ba48032cb438271d57818b85613f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apop_data_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapop__data.html">apop_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>colname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>rowname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a data element.</p>
<p>This function uses the <a class="el" href="designated.html">Designated initializers</a> syntax, so with names you don't have to worry about element ordering. But the ordering of elements may still be noteworthy. For compatibility with older editions of Apophenia, the order is (row, col, value, rowname, colname), so the following would all set row 3, column 8, of <code>d</code> to 5: </p>
<pre class="fragment">  apop_data_set(d, 3, 8, 5);
  apop_data_set(d, .row = 3, .col=8, .val=5);
  apop_data_set(d, .row = 3, .colname="Column 8", .val=5);
//but:
  apop_data_set(d, .row = 3, .colname="Column 8", 5);  //invalid---the value doesn't follow the colname.</pre><p>This differs somewhat from the deprecated <code>_tt</code>, <code>_ti</code>, and <code>_tt</code> functions, and to some extent, the GSL.</p>
<dl class="section return"><dt>Returns:</dt><dd>0=OK, -1=error (couldn't find row/column name, or you asked for a location outside the vector/matrix bounds).</dd></dl>
<ul>
<li>The error codes for out-of-bounds errors are thread-safe iff you are have a C11-compliant compiler (thanks to the <code>_Thread_local</code> keyword) or GCC (thanks to its <code>__thread</code> extension).</li>
</ul>
<p>See <a class="el" href="group__data__set__get.html">the set/get page</a> for details. </p>

</div>
</div>
</div><!-- contents -->
<p><p>
<div class="tiny">Autogenerated by doxygen on Mon Oct 8 2012.</div></body></html>
